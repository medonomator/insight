(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("8a23"),r=a.n(n);r.a},"16bd":function(t,e,a){},3838:function(t,e,a){"use strict";var n=a("cb70"),r=a.n(n);r.a},"3d12":function(t,e,a){"use strict";var n=a("adcf"),r=a.n(n);r.a},"3dd6":function(t,e,a){"use strict";var n=a("9f98"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i={name:"App"},s=i,c=(a("034f"),a("2877")),u=Object(c["a"])(s,r,o,!1,null,null,null),l=u.exports,p=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{staticClass:"app-bar"},[a("router-link",{attrs:{to:"/admin/content"}},[t._v("Контент")]),a("router-link",{attrs:{to:"/admin/aphorisms"}},[t._v("Афоризмы")]),a("router-link",{attrs:{to:"/admin/affirmation"}},[t._v("Аффирмации")]),a("router-link",{attrs:{to:"/admin/meterials"}},[t._v("Материалы")]),a("router-link",{attrs:{to:"/admin/tasks"}},[t._v("Tasks")]),a("v-spacer"),a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""}},n),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",t._l(5,(function(e){return a("v-list-item",{key:e,on:{click:function(){}}},[a("v-list-item-title",[t._v("Option "+t._s(e))])],1)})),1)],1)],1),a("router-view")],1)},m=[],f={},h=f,v=(a("dd7f"),a("6544")),b=a.n(v),_=a("40dc"),g=a("8336"),y=a("132d"),O=a("8860"),w=a("da13"),j=a("5d23"),x=a("e449"),D=a("2fa4"),k=Object(c["a"])(h,d,m,!1,null,"0e6405d3",null),P=k.exports;b()(k,{VAppBar:_["a"],VBtn:g["a"],VIcon:y["a"],VList:O["a"],VListItem:w["a"],VListItemTitle:j["a"],VMenu:x["a"],VSpacer:D["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("strong",[t._v(t._s(this.count))]),t._v(" Aphorisms ")]),a("modal-form"),a("input",{staticClass:"add-aphorism",attrs:{type:"button",value:"Добавить"},on:{click:function(e){return t.show("addAphorism")}}}),a("ul",{staticClass:"aphorisms-header"},[a("div",{staticClass:"aphorisms-header-item"},[a("b",[t._v("Автор")]),a("input",{staticClass:"aphorisms-filter",attrs:{name:"author",type:"text"},on:{input:t.headerFilter}})]),a("div",{staticClass:"aphorisms-header-item"},[a("b",[t._v("Афоризм")]),a("input",{staticClass:"aphorisms-filter",attrs:{name:"body",type:"text"},on:{input:t.headerFilter}})]),t._m(0)]),t._l(this.aphorismData,(function(e){return a("ul",{key:e._id,staticClass:"aphorisms"},[a("li",{staticClass:"aphorisms-item"},[a("span",{staticClass:"aphorisms-author"},[t._v(t._s(e.author))]),a("span",{staticClass:"aphorisms-body"},[t._v(t._s(e.body))]),a("div",{staticClass:"aphorisms-tags"},t._l(e.tags,(function(e,n){return a("span",{key:n},[t._v(t._s(e.name))])})),0),a("font-awesome-icon",{staticClass:"icon-pencil",attrs:{icon:"pen"},on:{click:function(a){return t.show("updateAphorism",e)}}}),a("span",{staticClass:"aphorisms-delete",on:{click:function(a){return t.deleteAphorism(e._id)}}},[t._v("+")])],1)])}))],2)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aphorisms-header-item"},[a("b",[t._v("limit")]),a("select",[t._v(" e "),a("option",[t._v("100")]),a("option",[t._v("200")]),a("option",[t._v("500")]),a("option",[t._v("Все")])])])}],E=(a("a4d3"),a("99af"),a("4de4"),a("4160"),a("d81d"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("ade3")),I=(a("96cf"),a("1da1")),S=a("bc3a"),A=a.n(S),V=function(){return"http://83.166.242.213"},T=function(t){t?A.a.defaults.headers.common["Authorization"]="Bearer ".concat(t):delete A.a.defaults.headers.common["Authorization"]},M=function(t){localStorage.token=t},B=function(){return localStorage.token},F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{name:"add-aphorism"},on:{"before-close":t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"modal-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.author,expression:"aphorismInputData.author"}],attrs:{type:"text",placeholder:"Автор"},domProps:{value:t.aphorismInputData.author},on:{input:function(e){e.target.composing||t.$set(t.aphorismInputData,"author",e.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.body,expression:"aphorismInputData.body"}],staticClass:"aphorism-textarea",attrs:{rows:"10",cols:"45",placeholder:"Афоризм"},domProps:{value:t.aphorismInputData.body},on:{input:function(e){e.target.composing||t.$set(t.aphorismInputData,"body",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.tags,expression:"aphorismInputData.tags"}],attrs:{type:"text",placeholder:"Топик"},domProps:{value:t.aphorismInputData.tags},on:{input:function(e){e.target.composing||t.$set(t.aphorismInputData,"tags",e.target.value)}}}),a("input",{staticClass:"add-aphorism",attrs:{type:"button",value:"Добавить"},on:{click:function(e){return t.handler(t.aphorismInputData)}}})])])},L=[];a("a15b");function R(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(Object(a),!0).forEach((function(e){Object(E["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var z={data:function(){return{count:0,aphorismInputData:{author:"",body:"",tags:"",_id:""},handler:function(){}}},methods:{beforeOpen:function(t){var e=t.params,a=e.item,n=e.func;a&&(this.aphorismInputData=N({},a,{tags:a.tags.map((function(t){var e=t.name;return e})).join(", ")})),this.handler=n},beforeClose:function(){this.aphorismInputData={author:"",body:"",tags:""}}}},J=z,q=(a("3dd6"),Object(c["a"])(J,F,L,!1,null,null,null)),G=q.exports;function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function K(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){Object(E["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Q={data:function(){return{aphorismData:[],count:0}},components:{"modal-form":G},mounted:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.get("".concat(V(),"/admin/aphorisms"));case 2:e=t.sent,this.aphorismData=e.data.data,this.count=e.data.count;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{headerFilter:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.a.get("".concat(V(),"/admin/aphorisms?").concat(e.target.name,"=").concat(e.target.value));case 2:a=t.sent,this.aphorismData=a.data.data,this.count=a.data.count;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteAphorism:function(t){var e=this;A.a.delete("".concat(V(),"/admin/aphorisms"),{data:{_id:t}}).then((function(){e.aphorismData=e.aphorismData.filter((function(e){return e._id!==t}))}))},addAphorism:function(t){var e=this,a=t.author,n=t.body,r=t.tags;A.a.post("".concat(V(),"/admin/aphorisms"),{author:a,body:n,tags:r.split(", ")}).then((function(t){e.aphorismData.unshift({author:a,body:n,tags:r.split(", ").map((function(t){return{name:t}})),_id:t.data._id}),e.$modal.hide("add-aphorism")}))},updateAphorism:function(t){var e=this,a=t.author,n=t.body,r=t.tags,o=t._id;A.a.put("".concat(V(),"/admin/aphorisms"),{_id:o,author:a,body:n,tags:r.split(",")}).then((function(){e.aphorismData=e.aphorismData.map((function(t){return t._id===o?K({},t,{author:a,body:n,tags:r.split(", ").map((function(t){return{name:t}})),_id:o}):t})),e.$modal.hide("add-aphorism")}))},show:function(t,e){this.$modal.show("add-aphorism",{func:this[t],item:e})},hide:function(){this.$modal.hide("add-aphorism")}}},U=Q,W=(a("3838"),Object(c["a"])(U,C,$,!1,null,"68cf1b96",null)),X=W.exports,Y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Affirmation")])])}],tt={},et=tt,at=Object(c["a"])(et,Y,Z,!1,null,"639f86e4",null),nt=at.exports,rt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Content")])])}],it={},st=it,ct=Object(c["a"])(st,rt,ot,!1,null,"341796a4",null),ut=ct.exports,lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Materials")])])}],dt={},mt=dt,ft=Object(c["a"])(mt,lt,pt,!1,null,"df1eea64",null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Tasks")])])}],_t={},gt=_t,yt=Object(c["a"])(gt,vt,bt,!1,null,"7d0ee5e4",null),Ot=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"v-card",attrs:{"max-width":"344"}},[a("v-card-text",[a("v-text-field",{attrs:{name:"email",label:"Login"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{name:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-btn",{on:{click:function(e){return t.auth({email:t.email,password:t.password})}}},[t._v("Enter")])],1)},jt=[],xt={data:function(){return{email:"",password:""}},methods:{auth:function(t){var e=t.email,a=t.password;A.a.post("".concat(V(),"/user/login"),{email:e,password:a}).then((function(t){var e=t.data.token;T(e),M(e),At.push("/admin")})).catch((function(t){alert(t.message),console.log(t)}))}}},Dt=xt,kt=(a("3d12"),a("b0af")),Pt=a("99d9"),Ct=a("8654"),$t=Object(c["a"])(Dt,wt,jt,!1,null,"681ac977",null),Et=$t.exports;b()($t,{VBtn:g["a"],VCard:kt["a"],VCardText:Pt["a"],VTextField:Ct["a"]}),n["a"].use(p["a"]);var It=new p["a"]({routes:[{path:"/admin",component:P,beforeEnter:function(t,e,a){return St(t,a)},children:[{path:"content",component:ut},{path:"aphorisms",component:X},{path:"affirmation",component:nt},{path:"meterials",component:ht},{path:"tasks",component:Ot}]},{path:"/admin/login",component:Et}],mode:"history",base:"/"}),St=function(t,e){var a=function(a){t.path!==a&&e(a),e()};B()?(T(B()),A.a.get("".concat(V(),"/user/auth")).then((function(){return a("/admin")})).catch((function(){return a("/admin/login")}))):a("/admin/login")},At=It,Vt=a("2f62");n["a"].use(Vt["a"]);var Tt=new Vt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Mt=a("f309");n["a"].use(Mt["a"]);var Bt=new Mt["a"]({}),Ft=a("1881"),Lt=a.n(Ft),Rt=a("ecee"),Nt=a("c074"),zt=a("ad3d");Rt["c"].add(Nt["a"]),n["a"].component("font-awesome-icon",zt["a"]),n["a"].config.productionTip=!1,n["a"].use(Lt.a),new n["a"]({router:At,store:Tt,vuetify:Bt,render:function(t){return t(l)}}).$mount("#app")},"8a23":function(t,e,a){},"9f98":function(t,e,a){},adcf:function(t,e,a){},cb70:function(t,e,a){},dd7f:function(t,e,a){"use strict";var n=a("16bd"),r=a.n(n);r.a}});
//# sourceMappingURL=app.96413685.js.map