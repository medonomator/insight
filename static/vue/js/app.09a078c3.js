(function(t){function a(a){for(var n,o,s=a[0],c=a[1],l=a[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(a);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,s=1;s<e.length;s++){var c=e[s];0!==r[c]&&(n=!1)}n&&(i.splice(a--,1),t=o(o.s=e[0]))}return t}var n={},r={app:0},i=[];function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(e,n,function(a){return t[a]}.bind(null,n));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=a,s=s.slice();for(var l=0;l<s.length;l++)a(s[l]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"16bd":function(t,a,e){},"3adb":function(t,a,e){},"3d12":function(t,a,e){"use strict";var n=e("adcf"),r=e.n(n);r.a},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],o={name:"App"},s=o,c=(e("5c0b"),e("2877")),l=Object(c["a"])(s,r,i,!1,null,null,null),u=l.exports,d=e("8c4f"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-app-bar",{staticClass:"app-bar"},[e("router-link",{attrs:{to:"/admin/content"}},[t._v("Контент")]),e("router-link",{attrs:{to:"/admin/aphorisms"}},[t._v("Афоризмы")]),e("router-link",{attrs:{to:"/admin/affirmation"}},[t._v("Аффирмации")]),e("router-link",{attrs:{to:"/admin/meterials"}},[t._v("Материалы")]),e("router-link",{attrs:{to:"/admin/tasks"}},[t._v("Tasks")]),e("v-spacer"),e("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("v-btn",t._g({attrs:{icon:""}},n),[e("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[e("v-list",t._l(5,(function(a){return e("v-list-item",{key:a,on:{click:function(){}}},[e("v-list-item-title",[t._v("Option "+t._s(a))])],1)})),1)],1)],1),e("router-view")],1)},h=[],f={},m=f,v=(e("dd7f"),e("6544")),g=e.n(v),b=e("40dc"),P=e("8336"),D=e("132d"),_=e("8860"),x=e("da13"),y=e("5d23"),C=e("e449"),w=e("2fa4"),O=Object(c["a"])(m,p,h,!1,null,"0e6405d3",null),k=O.exports;g()(O,{VAppBar:b["a"],VBtn:P["a"],VIcon:D["a"],VList:_["a"],VListItem:x["a"],VListItemTitle:y["a"],VMenu:C["a"],VSpacer:w["a"]});var j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"aphorisms"},[e("div"),e("modal-form"),e("input",{staticClass:"add-aphorism",attrs:{type:"button",value:"Добавить"},on:{click:function(a){return t.show("addAphorism")}}}),e("ul",{staticClass:"aphorisms-header"},[e("div",{staticClass:"header-input-filter"},[e("v-text-field",{attrs:{label:"Автор"},on:{input:t.authorFilterHandler}})],1),e("div",{staticClass:"header-input-filter"},[e("v-text-field",{attrs:{label:"Афоризм"},on:{input:t.bodyFilterHandler}})],1)]),e("v-simple-table",[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Автор")]),e("th",{staticClass:"text-left"},[t._v("Афоризм")]),e("th",{staticClass:"text-left"},[t._v("Топик")]),e("th",{staticClass:"text-left"},[t._v("Редактировать")]),e("th",{staticClass:"text-left"},[t._v("Удалить")])])]),e("tbody",t._l(this.aphorismData,(function(a){return e("tr",{key:a._id},[e("td",{staticStyle:{width:"200px"}},[t._v(t._s(a.author))]),e("td",[t._v(t._s(a.body))]),e("td",t._l(a.tags,(function(a,n){return e("span",{key:n,staticClass:"aphorisms-topic"},[t._v(t._s(a.name))])})),0),e("td",[e("font-awesome-icon",{staticClass:"icon-pencil",attrs:{icon:"pen"},on:{click:function(e){return t.show("updateAphorism",a)}}})],1),e("td",[e("font-awesome-icon",{staticClass:"icon-trash",attrs:{icon:"trash"},on:{click:function(e){return t.deleteAphorism(a._id)}}})],1)])})),0)])],1)},A=[],$=(e("a4d3"),e("99af"),e("4de4"),e("4160"),e("d81d"),e("e439"),e("dbb4"),e("b64b"),e("ac1f"),e("1276"),e("159b"),e("ade3")),M=(e("96cf"),e("1da1")),T=e("bc3a"),I=e.n(T),E=function(){return"http://localhost:5000"},V=function(t){t?I.a.defaults.headers.common["Authorization"]="Bearer ".concat(t):delete I.a.defaults.headers.common["Authorization"]},H=function(t){localStorage.token=t},S=function(){return localStorage.token},F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modal",{attrs:{name:"add-aphorism"},on:{"before-close":t.beforeClose,"before-open":t.beforeOpen}},[e("div",{staticClass:"modal-form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.author,expression:"aphorismInputData.author"}],attrs:{type:"text",placeholder:"Автор"},domProps:{value:t.aphorismInputData.author},on:{input:function(a){a.target.composing||t.$set(t.aphorismInputData,"author",a.target.value)}}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.body,expression:"aphorismInputData.body"}],staticClass:"aphorism-textarea",attrs:{rows:"10",cols:"45",placeholder:"Афоризм"},domProps:{value:t.aphorismInputData.body},on:{input:function(a){a.target.composing||t.$set(t.aphorismInputData,"body",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.aphorismInputData.tags,expression:"aphorismInputData.tags"}],attrs:{type:"text",placeholder:"Топик"},domProps:{value:t.aphorismInputData.tags},on:{input:function(a){a.target.composing||t.$set(t.aphorismInputData,"tags",a.target.value)}}}),e("input",{staticClass:"add-aphorism",attrs:{type:"button",value:"Добавить"},on:{click:function(a){return t.handler(t.aphorismInputData)}}})])])},R=[];e("a15b"),e("b0c0");function B(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?B(Object(e),!0).forEach((function(a){Object($["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):B(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var N={data:function(){return{count:0,aphorismInputData:{author:"",body:"",tags:"",_id:""},handler:function(){}}},methods:{beforeOpen:function(t){var a=t.params,e=a.item,n=a.func;e&&(this.aphorismInputData=L({},e,{tags:e.tags.map((function(t){var a=t.name;return a})).join(", ")})),this.handler=n},beforeClose:function(){this.aphorismInputData={author:"",body:"",tags:""}}}},z=N,J=(e("b2bf"),Object(c["a"])(z,F,R,!1,null,"4bb8af3e",null)),q=J.exports;function G(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function K(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?G(Object(e),!0).forEach((function(a){Object($["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):G(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var Q={data:function(){return{aphorismData:[],count:0}},components:{"modal-form":q},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("".concat(E(),"/admin/aphorisms"));case 2:a=t.sent,this.aphorismData=a.data.data,this.count=a.data.count;case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),methods:{authorFilterHandler:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(a){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a?"?author=".concat(a):"",t.next=3,I.a.get("".concat(E(),"/admin/aphorisms").concat(e));case 3:n=t.sent,this.aphorismData=n.data.data,this.count=n.data.count;case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),bodyFilterHandler:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(a){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a?"?body=".concat(a):"",t.next=3,I.a.get("".concat(E(),"/admin/aphorisms").concat(e));case 3:n=t.sent,this.aphorismData=n.data.data,this.count=n.data.count;case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),deleteAphorism:function(t){var a=this;I.a.delete("".concat(E(),"/admin/aphorisms"),{data:{_id:t}}).then((function(){a.aphorismData=a.aphorismData.filter((function(a){return a._id!==t}))}))},addAphorism:function(t){var a=this,e=t.author,n=t.body,r=t.tags;I.a.post("".concat(E(),"/admin/aphorisms"),{author:e,body:n,tags:r.split(", ")}).then((function(t){a.aphorismData.unshift({author:e,body:n,tags:r.split(", ").map((function(t){return{name:t}})),_id:t.data._id}),a.$modal.hide("add-aphorism")}))},updateAphorism:function(t){var a=this,e=t.author,n=t.body,r=t.tags,i=t._id;I.a.put("".concat(E(),"/admin/aphorisms"),{_id:i,author:e,body:n,tags:r.split(",")}).then((function(){a.aphorismData=a.aphorismData.map((function(t){return t._id===i?K({},t,{author:e,body:n,tags:r.split(", ").map((function(t){return{name:t}})),_id:i}):t})),a.$modal.hide("add-aphorism")}))},show:function(t,a){this.$modal.show("add-aphorism",{func:this[t],item:a})},hide:function(){this.$modal.hide("add-aphorism")}}},U=Q,W=(e("e036"),e("1f4f")),X=e("8654"),Y=Object(c["a"])(U,j,A,!1,null,"354567dc",null),Z=Y.exports;g()(Y,{VSimpleTable:W["a"],VTextField:X["a"]});var tt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},at=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",[t._v("Affirmation")])])}],et={},nt=et,rt=Object(c["a"])(nt,tt,at,!1,null,"639f86e4",null),it=rt.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"block"},[e("h1",[t._v("Главная")]),e("v-text-field",{attrs:{disabled:t.isChangeMainPageData},model:{value:t.mainPage.headerH1,callback:function(a){t.$set(t.mainPage,"headerH1",a)},expression:"mainPage.headerH1"}}),e("v-textarea",{attrs:{disabled:t.isChangeMainPageData},model:{value:t.mainPage.headerText,callback:function(a){t.$set(t.mainPage,"headerText",a)},expression:"mainPage.headerText"}}),e("v-btn",{staticClass:"button",attrs:{disabled:!t.isChangeMainPageData,color:"#2196F3"},on:{click:function(a){t.isChangeMainPageData=!t.isChangeMainPageData}}},[t._v("Редактировать")]),e("v-btn",{staticClass:"button",attrs:{disabled:t.isChangeMainPageData,color:"#64DD17"},on:{click:function(a){t.saveData({mainPage:t.mainPage}),t.isChangeMainPageData=!t.isChangeMainPageData}}},[t._v("Сохранить")])],1),e("div",{staticClass:"block"},[e("h1",[t._v("Афоризмы")]),e("v-text-field",{attrs:{disabled:t.isChangeAphorismPageData},model:{value:t.aphorismPage.headerH1,callback:function(a){t.$set(t.aphorismPage,"headerH1",a)},expression:"aphorismPage.headerH1"}}),e("v-textarea",{attrs:{disabled:t.isChangeAphorismPageData},model:{value:t.aphorismPage.headerText,callback:function(a){t.$set(t.aphorismPage,"headerText",a)},expression:"aphorismPage.headerText"}}),e("v-btn",{staticClass:"button",attrs:{disabled:!t.isChangeAphorismPageData,color:"#2196F3"},on:{click:function(a){t.isChangeAphorismPageData=!t.isChangeAphorismPageData}}},[t._v("Редактировать")]),e("v-btn",{staticClass:"button",attrs:{disabled:t.isChangeAphorismPageData,color:"#64DD17"},on:{click:function(a){t.saveData({aphorismPage:t.aphorismPage}),t.isChangeAphorismPageData=!t.isChangeAphorismPageData}}},[t._v("Сохранить")])],1),e("div",{staticClass:"block"},[e("h1",[t._v("Аффирмации")]),e("v-text-field",{attrs:{disabled:t.isChangeAffirmationPageData},model:{value:t.affirmationPage.headerH1,callback:function(a){t.$set(t.affirmationPage,"headerH1",a)},expression:"affirmationPage.headerH1"}}),e("v-textarea",{attrs:{disabled:t.isChangeAffirmationPageData},model:{value:t.affirmationPage.headerText,callback:function(a){t.$set(t.affirmationPage,"headerText",a)},expression:"affirmationPage.headerText"}}),e("v-btn",{staticClass:"button",attrs:{disabled:!t.isChangeAffirmationPageData,color:"#2196F3"},on:{click:function(a){t.isChangeAffirmationPageData=!t.isChangeAffirmationPageData}}},[t._v("Редактировать")]),e("v-btn",{staticClass:"button",attrs:{disabled:t.isChangeAffirmationPageData,color:"#64DD17"},on:{click:function(a){t.saveData({affirmationPage:t.affirmationPage}),t.isChangeAffirmationPageData=!t.isChangeAffirmationPageData}}},[t._v("Сохранить")])],1),e("div",{staticClass:"block"},[e("h1",[t._v("Материалы")]),e("v-text-field",{attrs:{disabled:t.isChangeMaterialPageData},model:{value:t.materialPage.headerH1,callback:function(a){t.$set(t.materialPage,"headerH1",a)},expression:"materialPage.headerH1"}}),e("v-textarea",{attrs:{disabled:t.isChangeMaterialPageData},model:{value:t.materialPage.headerText,callback:function(a){t.$set(t.materialPage,"headerText",a)},expression:"materialPage.headerText"}}),e("v-btn",{staticClass:"button",attrs:{disabled:!t.isChangeMaterialPageData,color:"#2196F3"},on:{click:function(a){t.isChangeMaterialPageData=!t.isChangeMaterialPageData}}},[t._v("Редактировать")]),e("v-btn",{staticClass:"button",attrs:{disabled:t.isChangeMaterialPageData,color:"#64DD17"},on:{click:function(a){t.saveData({materialPage:t.materialPage}),t.isChangeMaterialPageData=!t.isChangeMaterialPageData}}},[t._v("Сохранить")])],1)])},st=[],ct={data:function(){return{mainPage:{},aphorismPage:{},affirmationPage:{},materialPage:{},isChangeMainPageData:!0,isChangeAphorismPageData:!0,isChangeAffirmationPageData:!0,isChangeMaterialPageData:!0}},mounted:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(){var a,e,n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("".concat(E(),"/admin/mainData"));case 3:a=t.sent,e=a.data,n=e.mainPage,r=e.aphorismPage,i=e.affirmationPage,o=e.materialPage,this.mainPage=n||{},this.aphorismPage=r||{},this.affirmationPage=i||{},this.materialPage=o||{},t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function a(){return t.apply(this,arguments)}return a}(),methods:{saveData:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.put("".concat(E(),"/admin/mainData"),a);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function a(a){return t.apply(this,arguments)}return a}()}},lt=ct,ut=(e("7527"),e("a844")),dt=Object(c["a"])(lt,ot,st,!1,null,"b18713b2",null),pt=dt.exports;g()(dt,{VBtn:P["a"],VTextField:X["a"],VTextarea:ut["a"]});var ht=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",[t._v("Materials")])])}],mt={},vt=mt,gt=Object(c["a"])(vt,ht,ft,!1,null,"df1eea64",null),bt=gt.exports,Pt=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},Dt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",[t._v("Tasks")])])}],_t={},xt=_t,yt=Object(c["a"])(xt,Pt,Dt,!1,null,"7d0ee5e4",null),Ct=yt.exports,wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{staticClass:"v-card",attrs:{"max-width":"344"}},[e("v-card-text",[e("v-text-field",{attrs:{name:"email",label:"Login"},model:{value:t.email,callback:function(a){t.email=a},expression:"email"}}),e("v-text-field",{attrs:{name:"password",label:"Password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),e("v-btn",{on:{click:function(a){return t.auth({email:t.email,password:t.password})}}},[t._v("Enter")])],1)},Ot=[],kt={data:function(){return{email:"",password:""}},methods:{auth:function(t){var a=t.email,e=t.password;I.a.post("".concat(E(),"/user/login"),{email:a,password:e}).then((function(t){var a=t.data.token;V(a),H(a),Vt.push("/admin")})).catch((function(t){alert(t.message),console.log(t)}))}}},jt=kt,At=(e("3d12"),e("b0af")),$t=e("99d9"),Mt=Object(c["a"])(jt,wt,Ot,!1,null,"681ac977",null),Tt=Mt.exports;g()(Mt,{VBtn:P["a"],VCard:At["a"],VCardText:$t["a"],VTextField:X["a"]}),n["a"].use(d["a"]);var It=new d["a"]({routes:[{path:"/admin",component:k,beforeEnter:function(t,a,e){return Et(t,e)},children:[{path:"content",component:pt},{path:"aphorisms",component:Z},{path:"affirmation",component:it},{path:"meterials",component:bt},{path:"tasks",component:Ct}]},{path:"/admin/login",component:Tt}],mode:"history",base:"/"}),Et=function(t,a){var e=function(e){t.path!==e&&a(e),a()};S()?(V(S()),I.a.get("".concat(E(),"/user/auth")).then((function(){return e("/admin")})).catch((function(){return e("/admin/login")}))):e("/admin/login")},Vt=It,Ht=e("2f62");n["a"].use(Ht["a"]);var St=new Ht["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ft=e("f309");n["a"].use(Ft["a"]);var Rt=new Ft["a"]({}),Bt=e("1881"),Lt=e.n(Bt),Nt=e("ecee"),zt=e("c074"),Jt=e("ad3d");Nt["c"].add(zt["a"]),n["a"].component("font-awesome-icon",Jt["a"]),n["a"].config.productionTip=!1,n["a"].use(Lt.a),new n["a"]({router:Vt,store:St,vuetify:Rt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var n=e("7694"),r=e.n(n);r.a},7527:function(t,a,e){"use strict";var n=e("e4e6"),r=e.n(n);r.a},7694:function(t,a,e){},"7e07":function(t,a,e){},adcf:function(t,a,e){},b2bf:function(t,a,e){"use strict";var n=e("7e07"),r=e.n(n);r.a},dd7f:function(t,a,e){"use strict";var n=e("16bd"),r=e.n(n);r.a},e036:function(t,a,e){"use strict";var n=e("3adb"),r=e.n(n);r.a},e4e6:function(t,a,e){}});
//# sourceMappingURL=app.09a078c3.js.map