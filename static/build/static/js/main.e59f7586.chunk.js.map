{"version":3,"sources":["components/AphorismsTable/AphorismsTable.module.sass","components/AphorismsFilter/AphorismsFilter.module.sass","helpers/token.js","helpers/setAuthorizationToken.js","components/TopPanel/index.js","helpers/api.js","Pages/MainPage/index.js","components/AphorismsTable/index.js","components/AphorismsFilter/index.js","components/ModalForm/index.js","Pages/AphorismsPage/index.js","Pages/AffirmationPage/index.js","App.js","Pages/LoginPage/index.js","index.js","Pages/LoginPage/LoginPage.module.sass","components/TopPanel/TopPanel.module.sass","components/ModalForm/ModalForm.module.sass"],"names":["module","exports","getToken","localStorage","token","setAuthorizationToken","decodedToken","jwt","decode","Date","now","exp","axios","defaults","headers","common","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","withRouter","history","classes","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","className","AppBar","position","Toolbar","styles","mainNav","exact","activeClassName","isActive","to","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","api","url","method","data","timeout","baseURL","onUploadProgress","progressEvent","console","log","onDownloadProgress","MainPage","width","overflowX","table","minWidth","AphorismsTable","aphorisms","deleteAphorism","changeAphorism","Paper","Table","TableHead","TableRow","TableCell","TableBody","map","item","key","_id","component","scope","author","body","tags","tag","name","Create","icon","htmlColor","DeleteForever","memo","handlerInput","setAuthor","setBody","currentChange","setCurrentChange","proxy","sendDataInput","e","target","placeholder","value","useEffect","boxFilter","Input","onChange","inputAuthor","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","flexDirection","ModalForm","isOpen","inverterModalForm","getDataFromModalForm","textButton","setTags","getDataFromThisForm","a","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","in","inputs","TextareaAutosize","rows","Button","variant","LinkModal","props","ref","innerRef","AphorismsPage","inverter","setAphorisms","res","fetchAuth","addNewAphorism","split","newAphorisms","oldState","newArr","unshift","closest","status","filter","currentInput","Object","keys","checkIsEmpty","builtUrl","path","parentPath","style","margin","AffirmationPage","push","email","setEmail","password","setPassword","loginPage","Box","box","FormGroup","formGroup","input","autoFocus","then","catch","error","disabled","length","ReactDOM","render","LoginPage","from","document","getElementById"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,KAAO,+B,oBCAzBD,EAAOC,QAAU,CAAC,UAAY,mCAAmC,YAAc,uC,wOCOxE,SAASC,IACd,OAAOC,aAAaC,M,uCCLP,SAASC,EAAsBD,GAC5C,IAAME,EAAeC,IAAIC,OAAOJ,GAE5BK,KAAKC,MAAQJ,EAAaK,IAI1BP,EACFQ,IAAMC,SAASC,QAAQC,OAAvB,+BAA2DX,UAEpDQ,IAAMC,SAASC,QAAQC,OAAvB,c,8HCHLC,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,OAoECK,mBAhEf,YAA+B,EAAXC,QAAY,IACxBC,EAAUX,IADa,EAEGY,IAAMC,SAAS,MAFlB,mBAEtBC,EAFsB,KAEZC,EAFY,KAGvBC,EAAOC,QAAQH,GAMfI,EAAc,WAClBH,EAAY,OAGd,OACE,yBAAKI,UAAWR,EAAQR,MACtB,kBAACiB,EAAA,EAAD,CAAQC,SAAS,UACf,kBAACC,EAAA,EAAD,KACE,wBAAIH,UAAWI,IAAOC,SACpB,kBAAC,UAAD,CAASC,OAAK,EAACC,gBAAiBH,IAAOI,SAAUC,GAAG,UAApD,8CAGA,kBAAC,UAAD,CAASF,gBAAiBH,IAAOI,SAAUC,GAAG,oBAA9C,oDAGA,kBAAC,UAAD,CAASF,gBAAiBH,IAAOI,SAAUC,GAAG,sBAA9C,iEAIF,6BACE,kBAACC,EAAA,EAAD,CACEC,aAAW,0BACXC,gBAAc,cACdC,gBAAc,OACdC,QA5BO,SAAAC,GACjBnB,EAAYmB,EAAMC,gBA4BRC,MAAM,WAEN,kBAAC,IAAD,OAEF,kBAACC,EAAA,EAAD,CACEC,GAAG,cACHxB,SAAUA,EACVyB,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,aAAW,EACXC,gBAAiB,CACfH,SAAU,MACVC,WAAY,SAEdzB,KAAMA,EACN4B,QAAS1B,GAET,kBAAC2B,EAAA,EAAD,CAAUZ,QAASf,GAAnB,gGACA,kBAAC2B,EAAA,EAAD,CAAUZ,QAASf,GAAnB,0DACA,kBAAC2B,EAAA,EAAD,CAAUZ,QAASf,GAAnB,0CCnDC4B,EAjBH,SAACC,EAAKC,EAAQC,EAAMnD,GAApB,OACVF,IAAM,CACJmD,MACAC,SACAE,QAAS,IACTD,OACAE,QAAS,yBAETC,iBAAkB,SAASC,GACzBC,QAAQC,IAAI,qDAGdC,mBAAoB,SAASH,GAC3BC,QAAQC,IAAI,wDCnBHE,EAFE,kBAAM,0C,0GCUjBzD,EAAYC,YAAW,CAC3BE,KAAM,CACJuD,MAAO,OACPC,UAAW,QAEbC,MAAO,CACLC,SAAU,OA6CCC,EAzCQ,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eAC7CtD,EAAUX,IAEhB,OACE,kBAACkE,EAAA,EAAD,CAAO/C,UAAWR,EAAQR,MACxB,kBAACgE,EAAA,EAAD,CAAOhD,UAAWR,EAAQiD,MAAO9B,aAAW,gBAC1C,kBAACsC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,uCACA,kBAACA,EAAA,EAAD,iCACA,kBAACA,EAAA,EAAD,iCACA,kBAACA,EAAA,EAAD,2DAGJ,kBAACC,EAAA,EAAD,KACGR,EAAUd,MACTc,EAAUd,KAAKuB,KAAI,SAAAC,GAAI,OACrB,kBAACJ,EAAA,EAAD,CAAUK,IAAKD,EAAKE,KAClB,kBAACL,EAAA,EAAD,CAAWM,UAAU,KAAKC,MAAM,OAC7BJ,EAAKK,QAER,kBAACR,EAAA,EAAD,KAAYG,EAAKM,MACjB,kBAACT,EAAA,EAAD,KACGG,EAAKO,KAAKR,KAAI,SAAAS,GAAG,OAChB,6BAAMA,EAAIC,UAGd,kBAACZ,EAAA,EAAD,KACE,kBAACa,EAAA,EAAD,CAAQhE,UAAWI,IAAO6D,KAAMnD,QAASgC,EAAgBoB,UAAU,UACnE,0BAAMlE,UAAU,aAAac,QAAS+B,EAAgB1B,GAAImC,EAAKE,KAC7D,kBAACW,EAAA,EAAD,CAAenE,UAAWI,IAAO6D,KAAMC,UAAU,kB,2BCZtDzE,MAAM2E,MApCG,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAAmB,EAChB5E,IAAMC,SAAS,IADC,mBACrCiE,EADqC,KAC7BW,EAD6B,OAEpB7E,IAAMC,SAAS,IAFK,mBAErCkE,EAFqC,KAE/BW,EAF+B,OAGF9E,IAAMC,SAAS,IAHb,mBAGrC8E,EAHqC,KAGtBC,EAHsB,KAKtCC,EAAQ,CACZJ,YACAC,UACAZ,SACAC,QAGIe,EAAgB,SAAAC,GACpBH,EAAiBG,EAAEC,OAAOC,aAC1BJ,EAAME,EAAEC,OAAOd,MAAMa,EAAEC,OAAOE,QAOhC,OAJAtF,IAAMuF,WAAU,WACdX,EAAa,eAAGG,EAAgBE,EAAMF,QAItC,yBAAKxE,UAAWI,IAAO6E,WACrB,oEACA,kBAACC,EAAA,EAAD,CACEC,SAAUR,EACVZ,KAAK,YACLgB,MAAOpB,EACP3D,UAAWI,IAAOgF,YAClBN,YAAY,WAEd,kBAACI,EAAA,EAAD,CAAOC,SAAUR,EAAeZ,KAAK,UAAUgB,MAAOnB,EAAMkB,YAAY,aAKnC,kBAAM,K,mEChC3CjG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCsG,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAElBC,MAAO,CACLC,gBAAiB3G,EAAM4G,QAAQC,WAAWH,MAC1CI,OAAQ,iBACRC,UAAW/G,EAAMgH,QAAQ,GACzBC,QAASjH,EAAMK,QAAQ,EAAG,EAAG,GAC7BkG,QAAS,OACTW,cAAe,SACf1D,MAAO,aA4DI2D,GAxDG,SAAC,GAAqE,IAAnEC,EAAkE,EAAlEA,OAAQC,EAA0D,EAA1DA,kBAAmBC,EAAuC,EAAvCA,qBAAsBC,EAAiB,EAAjBA,WAC9D9G,EAAUX,KADqE,EAEzDY,IAAMC,SAAS,IAF0C,mBAE9EiE,EAF8E,KAEtEW,EAFsE,OAG7D7E,IAAMC,SAAS,IAH8C,mBAG9EkE,EAH8E,KAGxEW,EAHwE,OAI7D9E,IAAMC,SAAS,IAJ8C,mBAI9EmE,EAJ8E,KAIxE0C,EAJwE,KAM/EC,EAAmB,uCAAG,sBAAAC,EAAA,sEACRJ,EAAqB,CAAE1C,SAAQC,OAAMC,SAD7B,gBAGxBuC,IACA9B,EAAU,IACVC,EAAQ,IACRgC,EAAQ,KANgB,2CAAH,qDAUzB,OACE,6BACE,kBAACG,EAAA,EAAD,CACEC,kBAAgB,yBAChBC,mBAAiB,+BACjB5G,UAAWR,EAAQ6F,MACnBxF,KAAMsG,EACN1E,QAAS2E,EACTS,sBAAoB,EACpBC,kBAAmBC,IACnBC,cAAe,CACbjF,QAAS,MAGX,kBAACkF,GAAA,EAAD,CAAMC,GAAIf,GACR,yBAAKnG,UAAWR,EAAQiG,OACtB,kBAACP,EAAA,EAAD,CACEC,SAAU,SAAAP,GAAC,OAAIN,EAAUM,EAAEC,OAAOE,QAClCA,MAAOpB,EACP3D,UAAWI,KAAO+G,OAClBrC,YAAY,WAEd,kBAACsC,GAAA,EAAD,CACEC,KAAM,GACNlC,SAAU,SAAAP,GAAC,OAAIL,EAAQK,EAAEC,OAAOE,QAChCA,MAAOnB,EACP5D,UAAWI,KAAO+G,OAClBrC,YAAY,SAEd,kBAACI,EAAA,EAAD,CAAOC,SAAU,SAAAP,GAAC,OAAI2B,EAAQ3B,EAAEC,OAAOE,QAAQA,MAAOlB,EAAM7D,UAAWI,KAAO+G,OAAQrC,YAAY,SAClG,kBAACwC,EAAA,EAAD,CAAQxG,QAAS0F,EAAqBe,QAAQ,YAAYtG,MAAM,WAC7DqF,Q,8kBC9Df,IAAMkB,GAAY/H,cAAiB,SAACgI,EAAOC,GAAR,OAAgB,gBAAC,OAAD,eAAMC,SAAUD,GAASD,OAoG7DG,GAlGO,WAAO,IAAD,EACCnI,YAAe,GADhB,mBACnB0G,EADmB,KACX0B,EADW,OAEQpI,WAAe,CAAEqC,KAAM,KAF/B,mBAEnBc,EAFmB,KAERkF,EAFQ,KAI1BrI,aAAgB,YACC,uCAAG,4BAAAgH,EAAA,sEACE9E,EAAI,gCAAiC,OADvC,OACVoG,EADU,OAEhBD,EAAaC,EAAIjG,MAFD,2CAAH,qDAIfkG,KACC,IAEH,IAEMC,EAAc,uCAAG,qCAAAxB,EAAA,6DAAS9C,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAMC,EAAvB,EAAuBA,KAAvB,kBAEDlC,EAAI,mBAAoB,OAAQ,CAAEgC,SAAQC,OAAMC,KAAMA,EAAKqE,MAAM,OAFhE,cAEbH,EAFa,OAGbI,EAAe,CACnB3E,IAAKuE,EAAIvE,IACTG,SACAC,OACAC,KAAMA,EAAKqE,MAAM,MAGnBJ,GAAa,SAAAM,GACX,IAAMC,EAAM,YAAOD,EAAStG,MAE5B,OADAuG,EAAOC,QAAQH,GACR,GAAP,GAAYC,EAAZ,CAAsBtG,KAAMuG,OAbX,mBAeZ,GAfY,kCAkBnBlG,QAAQC,IAAR,MAlBmB,0DAAH,sDAsBdiE,EAAoB,uCAAG,WAAMvE,GAAN,SAAA2E,EAAA,sEACdwB,EAAenG,GADD,mFAAH,sDAIpBe,EAAc,uCAAG,WAAM+B,GAAN,eAAA6B,EAAA,0DACjB7B,EAAEC,OAAO0D,QAAQ,eADA,wBAEb/E,EAAMoB,EAAEC,OAAO0D,QAAQ,eAAepH,GAFzB,kBAICQ,EAAI,mBAAoB,SAAU,CAAE6B,QAJrC,OAME,MANF,OAMTgF,QACNV,GAAa,SAAAM,GACX,IAAIC,EAAM,YAAOD,EAAStG,MAE1B,OAAO,GAAP,GAAYsG,EAAZ,CAAsBtG,KADtBuG,EAASA,EAAOI,QAAO,SAAAnF,GAAI,OAAIA,EAAKE,MAAQA,UAT/B,gDAejBrB,QAAQC,IAAR,MAfiB,yDAAH,sDAoBdiC,EAAY,uCAAG,WAAMvC,GAAN,qBAAA2E,EAAA,6DACbiC,EAAeC,OAAOC,KAAK9G,GAC3B+G,EAAe/G,EAAK4G,GAAL,WAAyBA,EAAzB,YAAyC5G,EAAK4G,IAAkB,GAC/EI,EAHa,uCAG8BD,GAH9B,SAIDlH,EAAImH,EAAU,OAJb,OAIbf,EAJa,OAKnBD,EAAaC,EAAIjG,MALE,2CAAH,sDAQlB,OACE,2BACE,gBAAC,cAAD,CAAYiH,KAAK,8BAA8BC,WAAW,oBAA1D,SAGA,gBAAC,kBAAD,MAEA,gBAAC1B,EAAA,EAAD,CAEE7D,UAAW+D,GACX/G,GAAG,8BACHwI,MAAO,CAAEC,OAAQ,QACjB3B,QAAQ,aALV,+FAUA,gBAAC,GAAD,CACEjB,WAAW,mDACXD,qBAAsBA,EACtBD,kBA5EoB,kBAAMyB,GAAU1B,IA6EpCA,OAAQA,IAEV,gBAAC,EAAD,CAAiB9B,aAAcA,IAE/B,gBAAC,EAAD,CAAgBzB,UAAWA,EAAWC,eAAgBA,MCrG7CsG,GAFS,kBAAM,iDC0Bf7J,oBAnBf,YAA2B,IAAZC,EAAW,EAAXA,QASb,OARAE,IAAMuF,WAAU,YACC,uCAAG,sBAAAyB,EAAA,sEACG9E,EAAI,YAAa,OADpB,OAEI,MAFJ,OAEP6G,QAAgBjJ,EAAQ6J,KAAK,SAFtB,2CAAH,qDAIfpB,KACC,IAGD,yBAAKhI,UAAU,QACb,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOM,OAAK,EAACyI,KAAK,SAAStF,UAAWnB,IACtC,kBAAC,IAAD,CAAOyG,KAAK,mBAAmBtF,UAAWmE,KAC1C,kBAAC,IAAD,CAAOmB,KAAK,qBAAqBtF,UAAW0F,S,wCCmCnC7J,gBAlDG,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACPE,IAAMC,SAAS,IADR,mBAC1B2J,EAD0B,KACnBC,EADmB,OAED7J,IAAMC,SAAS,IAFd,mBAE1B6J,EAF0B,KAEhBC,EAFgB,KAIjC/J,IAAMuF,WAAU,WACVjH,KACa,uCAAG,sBAAA0I,EAAA,sEACG9E,EAAI,YAAa,OADpB,OAEI,MAFJ,OAEP6G,QAAgBjJ,EAAQ6J,KAAK,SAFtB,2CAAH,oDAIfpB,KAED,IAWH,OACE,yBAAKhI,UAAWI,KAAOqJ,WACrB,kBAACC,GAAA,EAAD,CAAK1J,UAAWI,KAAOuJ,IAAK7D,UAAW,GAAvC,qEAEE,kBAAC8D,GAAA,EAAD,CAAW5J,UAAWI,KAAOyJ,WAC3B,kBAAC3E,EAAA,EAAD,CACEC,SAAU,SAAAP,GAAC,OAAI0E,EAAS1E,EAAEC,OAAOE,QACjCA,MAAOsE,EACPrJ,UAAWI,KAAO0J,MAClBC,WAAS,EACTjF,YAAY,UAEd,kBAACI,EAAA,EAAD,CACEC,SAAU,SAAAP,GAAC,OAAI4E,EAAY5E,EAAEC,OAAOE,QACpCA,MAAOwE,EACPvJ,UAAWI,KAAO0J,MAClBhF,YAAY,cAGhB,kBAACwC,EAAA,EAAD,CAAQxG,QA5BD,WACXa,EAAI,cAAe,OAAQ,CAAE0H,QAAOE,aACjCS,MAAK,SAAAjC,GXxBL,IAAkB9J,IWyBR8J,EAAIjG,KAAK7D,MXxBxBD,aAAaC,MAAQA,EWyBfC,EAAsB6J,EAAIjG,KAAK7D,OAC/BsB,EAAQ6J,KAAK,YAEda,OAAM,SAAAC,GAAK,OAAI/H,QAAQC,IAAI8H,OAqBHC,SAAUd,EAAMe,OAAS,GAAKb,EAASa,OAAS,EAAG7C,QAAQ,YAAYtG,MAAM,WAApG,uC,OCzCJlD,KACFG,EAAsBH,KAGxBsM,IAASC,OACP,kBAAC,gBAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOvB,KAAK,SAAStF,UAAW8G,KAChC,kBAAC,IAAD,CAAOxB,KAAK,SAASuB,OAAQ,gBAAG/K,EAAH,EAAGA,QAAH,OAAmBxB,IAAqC,kBAAC,GAAD,MAAxBwB,EAAQ6J,KAAK,YAC1E,kBAAC,IAAD,CAAUoB,KAAK,IAAI/J,GAAG,aAG1BgK,SAASC,eAAe,U,mBCpB1B7M,EAAOC,QAAU,CAAC,UAAY,6BAA6B,IAAM,uBAAuB,UAAY,6BAA6B,MAAQ,2B,mBCAzID,EAAOC,QAAU,CAAC,QAAU,0BAA0B,SAAW,6B,mBCAjED,EAAOC,QAAU,CAAC,OAAS,6B","file":"static/js/main.e59f7586.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"AphorismsTable_icon__2qvg2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxFilter\":\"AphorismsFilter_boxFilter__2yYPZ\",\"inputAuthor\":\"AphorismsFilter_inputAuthor__qbi4t\"};","export function setToken(token) {\n  localStorage.token = token;\n}\n\nexport function removeToken() {\n  localStorage.token = '';\n}\n\nexport function getToken() {\n  return localStorage.token;\n}\n","import axios from 'axios';\nimport jwt from 'jsonwebtoken';\nimport { removeToken } from './token';\n\nexport default function setAuthorizationToken(token) {\n  const decodedToken = jwt.decode(token);\n\n  if (Date.now() > decodedToken.exp) {\n    // removeToken();\n  }\n\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport styles from './TopPanel.module.sass';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nfunction TopPanel({ history }) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <ul className={styles.mainNav}>\n            <NavLink exact activeClassName={styles.isActive} to=\"/admin\">\n              Главная\n            </NavLink>\n            <NavLink activeClassName={styles.isActive} to=\"/admin/aphorisms\">\n              Афоризмы\n            </NavLink>\n            <NavLink activeClassName={styles.isActive} to=\"/admin/affirmation\">\n              Аффирмации\n            </NavLink>\n          </ul>\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={open}\n              onClose={handleClose}\n            >\n              <MenuItem onClick={handleClose}>Вернуться на сайт</MenuItem>\n              <MenuItem onClick={handleClose}>Настройки</MenuItem>\n              <MenuItem onClick={handleClose}>Выйти</MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default withRouter(TopPanel);\n","import axios from 'axios';\n/**\n * Request to api\n *\n * @param {String} url\n * @param {srting} method\n * @param {Object} axios config\n * @param {Object} axios headers\n *\n */\nconst api = (url, method, data, headers) =>\n  axios({\n    url,\n    method,\n    timeout: 30000,\n    data,\n    baseURL: 'http://localhost:5000/',\n    // baseURL: PRODUCTION ? location.host : 'http://localhost:8081/',\n    onUploadProgress: function(progressEvent) {\n      console.log('загружаю');\n    },\n\n    onDownloadProgress: function(progressEvent) {\n      console.log('загрузил');\n    },\n  });\n\nexport default api;\n","import React from 'react';\n\nconst MainPage = () => <div>MainPage</div>;\n\nexport default MainPage;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Create, DeleteForever } from '@material-ui/icons';\n\nimport styles from './AphorismsTable.module.sass';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst AphorismsTable = ({ aphorisms, deleteAphorism, changeAphorism }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Автор</TableCell>\n            <TableCell>Тело</TableCell>\n            <TableCell>Теги</TableCell>\n            <TableCell>Действия</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {aphorisms.data &&\n            aphorisms.data.map(item => (\n              <TableRow key={item._id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {item.author}\n                </TableCell>\n                <TableCell>{item.body}</TableCell>\n                <TableCell>\n                  {item.tags.map(tag => (\n                    <div>{tag.name}</div>\n                  ))}\n                </TableCell>\n                <TableCell>\n                  <Create className={styles.icon} onClick={changeAphorism} htmlColor=\"green\" />\n                  <span className=\"deleteIcon\" onClick={deleteAphorism} id={item._id}>\n                    <DeleteForever className={styles.icon} htmlColor=\"red\" />\n                  </span>\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n};\n\nexport default AphorismsTable;\n","import React from 'react';\nimport { Input } from '@material-ui/core';\nimport styles from './AphorismsFilter.module.sass';\n\nconst AphorismsFilter = ({ handlerInput }) => {\n  const [author, setAuthor] = React.useState('');\n  const [body, setBody] = React.useState('');\n  const [currentChange, setCurrentChange] = React.useState('');\n\n  const proxy = {\n    setAuthor,\n    setBody,\n    author,\n    body,\n  };\n\n  const sendDataInput = e => {\n    setCurrentChange(e.target.placeholder);\n    proxy[e.target.name](e.target.value);\n  };\n\n  React.useEffect(() => {\n    handlerInput({ [currentChange]: proxy[currentChange] });\n  });\n\n  return (\n    <div className={styles.boxFilter}>\n      <h3>Фильтр</h3>\n      <Input\n        onChange={sendDataInput}\n        name=\"setAuthor\"\n        value={author}\n        className={styles.inputAuthor}\n        placeholder=\"author\"\n      />\n      <Input onChange={sendDataInput} name=\"setBody\" value={body} placeholder=\"body\" />\n    </div>\n  );\n};\n\nexport default React.memo(AphorismsFilter, () => true);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { Input, Button, TextareaAutosize } from '@material-ui/core';\nimport styles from './ModalForm.module.sass';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    display: 'flex',\n    flexDirection: 'column',\n    width: '450px',\n  },\n}));\n\nconst ModalForm = ({ isOpen, inverterModalForm, getDataFromModalForm, textButton }) => {\n  const classes = useStyles();\n  const [author, setAuthor] = React.useState('');\n  const [body, setBody] = React.useState('');\n  const [tags, setTags] = React.useState('');\n\n  const getDataFromThisForm = async () => {\n    const res = await getDataFromModalForm({ author, body, tags });\n    if (res) {\n      inverterModalForm();\n      setAuthor('');\n      setBody('');\n      setTags('');\n    }\n  };\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={isOpen}\n        onClose={inverterModalForm}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 100,\n        }}\n      >\n        <Fade in={isOpen}>\n          <div className={classes.paper}>\n            <Input\n              onChange={e => setAuthor(e.target.value)}\n              value={author}\n              className={styles.inputs}\n              placeholder=\"author\"\n            />\n            <TextareaAutosize\n              rows={10}\n              onChange={e => setBody(e.target.value)}\n              value={body}\n              className={styles.inputs}\n              placeholder=\"body\"\n            />\n            <Input onChange={e => setTags(e.target.value)} value={tags} className={styles.inputs} placeholder=\"tags\" />\n            <Button onClick={getDataFromThisForm} variant=\"contained\" color=\"primary\">\n              {textButton}\n            </Button>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ModalForm;\n","import * as React from 'react';\nimport api from '../../helpers/api';\nimport AphorismsTable from '../../components/AphorismsTable';\nimport AphorismsFilter from '../../components/AphorismsFilter';\nimport { Button } from '@material-ui/core';\nimport ModalForm from '../../components/ModalForm';\nimport { ModalContainer, ModalRoute } from 'react-router-modal';\nimport { Link } from 'react-router-dom';\nimport 'react-router-modal/css/react-router-modal.css';\n\nconst LinkModal = React.forwardRef((props, ref) => <Link innerRef={ref} {...props} />);\n\nconst AphorismsPage = () => {\n  const [isOpen, inverter] = React.useState(false);\n  const [aphorisms, setAphorisms] = React.useState({ data: [] });\n\n  React.useEffect(() => {\n    const fetchAuth = async () => {\n      const res = await api('/admin/aphorisms?random=false', 'GET');\n      setAphorisms(res.data);\n    };\n    fetchAuth();\n  }, []);\n\n  const inverterModalForm = () => inverter(!isOpen);\n\n  const addNewAphorism = async ({ author, body, tags }) => {\n    try {\n      const res = await api('/admin/aphorisms', 'POST', { author, body, tags: tags.split(',') });\n      const newAphorisms = {\n        _id: res._id,\n        author,\n        body,\n        tags: tags.split(','),\n      };\n\n      setAphorisms(oldState => {\n        const newArr = [...oldState.data];\n        newArr.unshift(newAphorisms);\n        return { ...oldState, data: newArr };\n      });\n      return true;\n    } catch (error) {\n      // TODO: Обработать ошибку\n      console.log(error);\n    }\n  };\n\n  const getDataFromModalForm = async data => {\n    return await addNewAphorism(data);\n  };\n\n  const deleteAphorism = async e => {\n    if (e.target.closest('.deleteIcon')) {\n      const _id = e.target.closest('.deleteIcon').id;\n      try {\n        const res = await api('/admin/aphorisms', 'DELETE', { _id });\n\n        if (res.status === 200) {\n          setAphorisms(oldState => {\n            let newArr = [...oldState.data];\n            newArr = newArr.filter(item => item._id !== _id);\n            return { ...oldState, data: newArr };\n          });\n        }\n      } catch (error) {\n        // TODO: Обработать ошибку\n        console.log(error);\n      }\n    }\n  };\n\n  const handlerInput = async data => {\n    const currentInput = Object.keys(data);\n    const checkIsEmpty = data[currentInput] ? `&${currentInput}=${data[currentInput]}` : '';\n    const builtUrl = `/admin/aphorisms?random=false${checkIsEmpty}`;\n    const res = await api(builtUrl, 'GET');\n    setAphorisms(res.data);\n  };\n\n  return (\n    <div>\n      <ModalRoute path=\"/admin/aphorisms/modal-test\" parentPath=\"/admin/aphorisms\">\n        Hello\n      </ModalRoute>\n      <ModalContainer />\n\n      <Button\n        // onClick={inverterModalForm}\n        component={LinkModal}\n        to=\"/admin/aphorisms/modal-test\"\n        style={{ margin: '20px' }}\n        variant=\"contained\"\n      >\n        Добавить афоризм\n      </Button>\n\n      <ModalForm\n        textButton=\"Добавить\"\n        getDataFromModalForm={getDataFromModalForm}\n        inverterModalForm={inverterModalForm}\n        isOpen={isOpen}\n      />\n      <AphorismsFilter handlerInput={handlerInput} />\n\n      <AphorismsTable aphorisms={aphorisms} deleteAphorism={deleteAphorism} />\n    </div>\n  );\n};\n\nexport default AphorismsPage;\n","import React from 'react';\n\nconst AffirmationPage = () => <div>AffirmationPage</div>;\n\nexport default AffirmationPage;\n","import React from 'react';\nimport { withRouter, Route } from 'react-router-dom';\nimport TopPanel from '../src/components/TopPanel';\nimport api from './helpers/api';\n// Pages\nimport MainPage from './Pages/MainPage';\nimport AphorismsPage from './Pages/AphorismsPage';\nimport AffirmationPage from './Pages/AffirmationPage';\n\nfunction App({ history }) {\n  React.useEffect(() => {\n    const fetchAuth = async () => {\n      const data = await api('user/auth', 'GET');\n      if (data.status !== 200) history.push('login');\n    };\n    fetchAuth();\n  }, []);\n\n  return (\n    <div className=\"root\">\n      <TopPanel />\n      <Route exact path=\"/admin\" component={MainPage} />\n      <Route path=\"/admin/aphorisms\" component={AphorismsPage} />\n      <Route path=\"/admin/affirmation\" component={AffirmationPage} />\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport { Button, Box, Input, FormGroup } from '@material-ui/core';\nimport styles from './LoginPage.module.sass';\nimport api from '../../helpers/api';\nimport setAuthorizationToken from '../../helpers/setAuthorizationToken';\nimport { setToken, getToken } from '../../helpers/token';\nimport { withRouter } from 'react-router-dom';\n\nconst LoginPage = ({ history }) => {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  React.useEffect(() => {\n    if (getToken()) {\n      const fetchAuth = async () => {\n        const data = await api('user/auth', 'GET');\n        if (data.status === 200) history.push('admin');\n      };\n      fetchAuth();\n    }\n  }, []);\n\n  const auth = () => {\n    api('/user/login', 'POST', { email, password })\n      .then(res => {\n        setToken(res.data.token);\n        setAuthorizationToken(res.data.token);\n        history.push('admin');\n      })\n      .catch(error => console.log(error));\n  };\n  return (\n    <div className={styles.loginPage}>\n      <Box className={styles.box} boxShadow={3}>\n        Авторизация\n        <FormGroup className={styles.formGroup}>\n          <Input\n            onChange={e => setEmail(e.target.value)}\n            value={email}\n            className={styles.input}\n            autoFocus\n            placeholder=\"email\"\n          />\n          <Input\n            onChange={e => setPassword(e.target.value)}\n            value={password}\n            className={styles.input}\n            placeholder=\"password\"\n          />\n        </FormGroup>\n        <Button onClick={auth} disabled={email.length < 4 || password.length < 4} variant=\"contained\" color=\"primary\">\n          Войти\n        </Button>\n      </Box>\n    </div>\n  );\n};\n\nexport default withRouter(LoginPage);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { getToken } from './helpers/token';\nimport setAuthorizationToken from './helpers/setAuthorizationToken';\nimport App from './App';\nimport LoginPage from './Pages/LoginPage';\nimport './assets/global.module.sass';\n\nif (getToken()) {\n  setAuthorizationToken(getToken());\n}\n\nReactDOM.render(\n  <Router>\n    <Switch>\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"/admin\" render={({ history }) => (!getToken() ? history.push('login') : <App />)} />\n      <Redirect from=\"/\" to=\"/admin\" />\n    </Switch>\n  </Router>,\n  document.getElementById('root'),\n);\n\nif (module.hot) {\n  module.hot.accept();\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"LoginPage_loginPage__2ddJW\",\"box\":\"LoginPage_box__2hYw1\",\"formGroup\":\"LoginPage_formGroup__1rq13\",\"input\":\"LoginPage_input__2l9O1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainNav\":\"TopPanel_mainNav__CeMyh\",\"isActive\":\"TopPanel_isActive__2aKQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs\":\"ModalForm_inputs__20Amh\"};"],"sourceRoot":""}