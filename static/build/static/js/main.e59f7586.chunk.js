(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){e.exports={icon:"AphorismsTable_icon__2qvg2"}},101:function(e,t,a){e.exports={boxFilter:"AphorismsFilter_boxFilter__2yYPZ",inputAuthor:"AphorismsFilter_inputAuthor__qbi4t"}},176:function(e,t,a){e.exports=a(313)},200:function(e,t){},202:function(e,t){},242:function(e,t){},243:function(e,t){},312:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(26),l=a(40);function u(){return localStorage.token}var s=a(58),m=a.n(s),p=a(164),d=a.n(p);function f(e){var t=d.a.decode(e);Date.now(),t.exp,e?m.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete m.a.defaults.headers.common.Authorization}var h=a(13),v=a.n(h),E=a(27),b=a(15),g=a(348),O=a(349),y=a(351),x=a(352),j=a(169),w=a.n(j),k=a(368),_=a(366),N=a(62),C=a.n(N),P=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var A=Object(l.o)((function(e){e.history;var t=P(),a=r.a.useState(null),n=Object(b.a)(a,2),o=n[0],c=n[1],l=Boolean(o),u=function(){c(null)};return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement("ul",{className:C.a.mainNav},r.a.createElement(i.NavLink,{exact:!0,activeClassName:C.a.isActive,to:"/admin"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(i.NavLink,{activeClassName:C.a.isActive,to:"/admin/aphorisms"},"\u0410\u0444\u043e\u0440\u0438\u0437\u043c\u044b"),r.a.createElement(i.NavLink,{activeClassName:C.a.isActive,to:"/admin/affirmation"},"\u0410\u0444\u0444\u0438\u0440\u043c\u0430\u0446\u0438\u0438")),r.a.createElement("div",null,r.a.createElement(x.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},r.a.createElement(w.a,null)),r.a.createElement(_.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:u},r.a.createElement(k.a,{onClick:u},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442"),r.a.createElement(k.a,{onClick:u},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(k.a,{onClick:u},"\u0412\u044b\u0439\u0442\u0438"))))))})),S=function(e,t,a,n){return m()({url:e,method:t,timeout:3e4,data:a,baseURL:"http://localhost:5000/",onUploadProgress:function(e){console.log("\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e")},onDownloadProgress:function(e){console.log("\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b")}})},F=function(){return r.a.createElement("div",null,"MainPage")},T=a(17),B=a(29),D=a(353),L=a(357),M=a(356),G=a(354),I=a(355),R=a(314),z=a(358),q=a(359),J=a(100),U=a.n(J),W=Object(g.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}}),Y=function(e){var t=e.aphorisms,a=e.deleteAphorism,n=e.changeAphorism,o=W();return r.a.createElement(R.a,{className:o.root},r.a.createElement(D.a,{className:o.table,"aria-label":"simple table"},r.a.createElement(G.a,null,r.a.createElement(I.a,null,r.a.createElement(M.a,null,"\u0410\u0432\u0442\u043e\u0440"),r.a.createElement(M.a,null,"\u0422\u0435\u043b\u043e"),r.a.createElement(M.a,null,"\u0422\u0435\u0433\u0438"),r.a.createElement(M.a,null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement(L.a,null,t.data&&t.data.map((function(e){return r.a.createElement(I.a,{key:e._id},r.a.createElement(M.a,{component:"th",scope:"row"},e.author),r.a.createElement(M.a,null,e.body),r.a.createElement(M.a,null,e.tags.map((function(e){return r.a.createElement("div",null,e.name)}))),r.a.createElement(M.a,null,r.a.createElement(z.a,{className:U.a.icon,onClick:n,htmlColor:"green"}),r.a.createElement("span",{className:"deleteIcon",onClick:a,id:e._id},r.a.createElement(q.a,{className:U.a.icon,htmlColor:"red"}))))})))))},H=a(367),K=a(101),Q=a.n(K),X=r.a.memo((function(e){var t=e.handlerInput,a=r.a.useState(""),n=Object(b.a)(a,2),o=n[0],c=n[1],i=r.a.useState(""),l=Object(b.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(b.a)(m,2),d=p[0],f=p[1],h={setAuthor:c,setBody:s,author:o,body:u},v=function(e){f(e.target.placeholder),h[e.target.name](e.target.value)};return r.a.useEffect((function(){t(Object(T.a)({},d,h[d]))})),r.a.createElement("div",{className:Q.a.boxFilter},r.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440"),r.a.createElement(H.a,{onChange:v,name:"setAuthor",value:o,className:Q.a.inputAuthor,placeholder:"author"}),r.a.createElement(H.a,{onChange:v,name:"setBody",value:u,placeholder:"body"}))}),(function(){return!0})),Z=a(362),V=a(365),$=a(361),ee=a(315),te=a(360),ae=a(77),ne=a.n(ae),re=Object(g.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),display:"flex",flexDirection:"column",width:"450px"}}})),oe=function(e){var t=e.isOpen,a=e.inverterModalForm,n=e.getDataFromModalForm,o=e.textButton,c=re(),i=r.a.useState(""),l=Object(b.a)(i,2),u=l[0],s=l[1],m=r.a.useState(""),p=Object(b.a)(m,2),d=p[0],f=p[1],h=r.a.useState(""),g=Object(b.a)(h,2),O=g[0],y=g[1],x=function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({author:u,body:d,tags:O});case 2:e.sent&&(a(),s(""),f(""),y(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(V.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:$.a,BackdropProps:{timeout:100}},r.a.createElement(ee.a,{in:t},r.a.createElement("div",{className:c.paper},r.a.createElement(H.a,{onChange:function(e){return s(e.target.value)},value:u,className:ne.a.inputs,placeholder:"author"}),r.a.createElement(te.a,{rows:10,onChange:function(e){return f(e.target.value)},value:d,className:ne.a.inputs,placeholder:"body"}),r.a.createElement(H.a,{onChange:function(e){return y(e.target.value)},value:O,className:ne.a.inputs,placeholder:"tags"}),r.a.createElement(Z.a,{onClick:x,variant:"contained",color:"primary"},o)))))},ce=a(102);a(311);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue=n.forwardRef((function(e,t){return n.createElement(i.Link,Object.assign({innerRef:t},e))})),se=function(){var e=n.useState(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],o=n.useState({data:[]}),c=Object(b.a)(o,2),i=c[0],l=c[1];n.useEffect((function(){(function(){var e=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("/admin/aphorisms?random=false","GET");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){var e=Object(E.a)(v.a.mark((function e(t){var a,n,r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.author,n=t.body,r=t.tags,e.prev=1,e.next=4,S("/admin/aphorisms","POST",{author:a,body:n,tags:r.split(",")});case 4:return o=e.sent,c={_id:o._id,author:a,body:n,tags:r.split(",")},l((function(e){var t=Object(B.a)(e.data);return t.unshift(c),le({},e,{data:t})})),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(E.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.closest(".deleteIcon")){e.next=12;break}return a=t.target.closest(".deleteIcon").id,e.prev=2,e.next=5,S("/admin/aphorisms","DELETE",{_id:a});case 5:200===e.sent.status&&l((function(e){var t=Object(B.a)(e.data);return le({},e,{data:t=t.filter((function(e){return e._id!==a}))})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(E.a)(v.a.mark((function e(t){var a,n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t),n=t[a]?"&".concat(a,"=").concat(t[a]):"",r="/admin/aphorisms?random=false".concat(n),e.next=5,S(r,"GET");case 5:o=e.sent,l(o.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",null,n.createElement(ce.ModalRoute,{path:"/admin/aphorisms/modal-test",parentPath:"/admin/aphorisms"},"Hello"),n.createElement(ce.ModalContainer,null),n.createElement(Z.a,{component:ue,to:"/admin/aphorisms/modal-test",style:{margin:"20px"},variant:"contained"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0444\u043e\u0440\u0438\u0437\u043c"),n.createElement(oe,{textButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",getDataFromModalForm:s,inverterModalForm:function(){return r(!a)},isOpen:a}),n.createElement(X,{handlerInput:p}),n.createElement(Y,{aphorisms:i,deleteAphorism:m}))},me=function(){return r.a.createElement("div",null,"AffirmationPage")};var pe=Object(l.o)((function(e){var t=e.history;return r.a.useEffect((function(){(function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("user/auth","GET");case 2:200!==e.sent.status&&t.push("login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"root"},r.a.createElement(A,null),r.a.createElement(l.d,{exact:!0,path:"/admin",component:F}),r.a.createElement(l.d,{path:"/admin/aphorisms",component:se}),r.a.createElement(l.d,{path:"/admin/affirmation",component:me}))})),de=a(364),fe=a(363),he=a(51),ve=a.n(he),Ee=Object(l.o)((function(e){var t=e.history,a=r.a.useState(""),n=Object(b.a)(a,2),o=n[0],c=n[1],i=r.a.useState(""),l=Object(b.a)(i,2),s=l[0],m=l[1];r.a.useEffect((function(){u()&&function(){var e=Object(E.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("user/auth","GET");case 2:200===e.sent.status&&t.push("admin");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);return r.a.createElement("div",{className:ve.a.loginPage},r.a.createElement(de.a,{className:ve.a.box,boxShadow:3},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",r.a.createElement(fe.a,{className:ve.a.formGroup},r.a.createElement(H.a,{onChange:function(e){return c(e.target.value)},value:o,className:ve.a.input,autoFocus:!0,placeholder:"email"}),r.a.createElement(H.a,{onChange:function(e){return m(e.target.value)},value:s,className:ve.a.input,placeholder:"password"})),r.a.createElement(Z.a,{onClick:function(){S("/user/login","POST",{email:o,password:s}).then((function(e){var a;a=e.data.token,localStorage.token=a,f(e.data.token),t.push("admin")})).catch((function(e){return console.log(e)}))},disabled:o.length<4||s.length<4,variant:"contained",color:"primary"},"\u0412\u043e\u0439\u0442\u0438")))}));a(312);u()&&f(u()),c.a.render(r.a.createElement(i.BrowserRouter,null,r.a.createElement(l.g,null,r.a.createElement(l.d,{path:"/login",component:Ee}),r.a.createElement(l.d,{path:"/admin",render:function(e){var t=e.history;return u()?r.a.createElement(pe,null):t.push("login")}}),r.a.createElement(l.c,{from:"/",to:"/admin"}))),document.getElementById("root"))},51:function(e,t,a){e.exports={loginPage:"LoginPage_loginPage__2ddJW",box:"LoginPage_box__2hYw1",formGroup:"LoginPage_formGroup__1rq13",input:"LoginPage_input__2l9O1"}},62:function(e,t,a){e.exports={mainNav:"TopPanel_mainNav__CeMyh",isActive:"TopPanel_isActive__2aKQf"}},77:function(e,t,a){e.exports={inputs:"ModalForm_inputs__20Amh"}}},[[176,1,2]]]);
//# sourceMappingURL=main.e59f7586.chunk.js.map